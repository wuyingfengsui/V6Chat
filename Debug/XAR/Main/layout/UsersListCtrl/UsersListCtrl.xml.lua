function OnBind(self)	local attr = self:GetAttribute()	attr.top = 0endfunction OnInitControl(self)	local attr = self:GetAttribute()	local nick_name = self:GetControlObject("nick_name")	nick_name:SetText(attr.nick_name)endfunction SetSel(self,value)	local bkg = self:GetControlObject("background")	local addUser_button = self:GetControlObject("addUser_button")	if not bkg then return end	if value then		bkg:SetResID("texture.tasklist.select_item.bk")		addUser_button:SetVisible(true)		addUser_button:SetChildrenVisible(true)	else		bkg:SetResID("texture.tasklist.item.bk")		addUser_button:SetVisible(false)		addUser_button:SetChildrenVisible(false)			endendfunction List_GetSel(self)	local attr = self:GetAttribute()	return attr.selitemendfunction List_SetSel(self,item)	local attr = self:GetAttribute()	if attr.selitem then		attr.selitem:SetSel(false)	end	attr.selitem = item	item:SetSel(true)	self:FireExtEvent("OnSelectChanged")endfunction OnLButtonDown(self)	endfunction addUser_btn_OnClick(self)	local control = self:GetOwnerControl()	local attr = control:GetAttribute()	control:GetOwnerControl():FireExtEvent("OnAddUser", attr.sid, attr.id, attr.account)endfunction InsertItem(self,sid, id, account, nick_name, head)	if id and account then		local content = self:GetControlObject("content")		local cnt = content:GetChildCount()		local objFactory = XLGetObject("Xunlei.UIEngine.ObjectFactory")		local obj = objFactory:CreateUIObject("listitem."..cnt, "UsersListItem")		local attr = obj:GetAttribute()		attr.sid = sid		attr.id = id		attr.account = account		attr.nick_name = nick_name		if head then			local chead = obj:GetControlObject("head")			local cl, w, h = head:GetInfo()			if 50 > h then				chead:SetObjPos2(5, 10, w, h)			else				chead:SetObjPos2(5, 10, 50*w/h, 50)			end						chead:SetBitmap(head)		end		content:AddChild(obj)		local left,top,right,bottom = content:GetObjPos()		obj:SetObjPos(0, cnt*70, right-left,cnt*70+70)	endendfunction ShowText(self, text)	self:DeleteAllItems()	local content = self:GetControlObject("content")	local objFactory = XLGetObject("Xunlei.UIEngine.ObjectFactory")	local obj = objFactory:CreateUIObject("listprompt", "TextObject")	obj:SetText(text)	obj:SetHAlign("center")	obj:SetVAlign("center")		content:AddChild(obj)	local left,top,right,bottom = content:GetObjPos()	obj:SetObjPos(0, 0, right-left,30)endfunction SetAdjust(self)	local attr = self:GetAttribute()	local top1 = attr.top	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local cnt = content:GetChildCount()-1	for i=0,cnt do		local item = content:GetChildByIndex(i)		item:SetObjPos(0, top1, right-left,top1+70)		top1 = top1 + 70	endendfunction DeleteItem(self,id)	local content = self:GetControlObject("content")	for i=content:GetChildCount()-1,0,-1 do		local itemattr = content:GetChildByIndex(i):GetAttribute()		if itemattr.id == id then		    content:RemoveChild(content:GetChildByIndex(i))			self:UpdateScroll()		end	endendfunction DeleteAllItems(self)	local content = self:GetControlObject("content")	for i=content:GetChildCount()-1,0,-1 do		content:RemoveChild(content:GetChildByIndex(i))	end		self:UpdateScroll()endfunction OnMouseEnter(self)    local list = self:GetOwnerControl()	list:SetSel(self)endfunction OnLButtonDbClick(self)    local control = self:GetOwnerControl()	local attr = control:GetAttribute()	control:FireExtEvent("OnAddUser", attr.id)endfunction MouseWheel(self, distance)	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local height = bottom - top	local attr = self:GetAttribute()	local top1 = attr.top	if distance > 0 then		top1 = top1 + 70	elseif distance < 0 then		top1 = top1 - 70	end	local cnt = content:GetChildCount()	if height - (cnt*70 + top1) < 0 then		attr.top = top1	else		attr.top = height - (cnt*70 + top1) + attr.top - 70			end	if attr.top > 0 then attr.top = 0 end	self:SetAdjust()	local vscroll = self:GetControlObject("vscroll")	vscroll:SetScrollPos(-attr.top, true)endfunction OnMouseWheel(self, x, y, distance)	self:GetOwnerControl():MouseWheel(distance)endfunction OnMouseWheel_Item(self, x, y, distance)	self:GetOwnerControl():MouseWheel(distance)endfunction UpdateScroll(self)	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local height = bottom - top	local vscroll = self:GetControlObject("vscroll")	vscroll:SetPageSize(height)	local cnt = content:GetChildCount()	local range = cnt*70 - height	if range < 0 then		vscroll:SetVisible(false)		vscroll:SetChildrenVisible(false)		range = 0	else		vscroll:SetVisible(true)		vscroll:SetChildrenVisible(true)	end	vscroll:SetScrollRange(0, range)	vscroll:SetScrollPos(0, true)endfunction List_OnInitControl(self)	endfunction OnVScroll(self, fun, type, newpos)	local owner = self:GetOwnerControl()	local attr = owner:GetAttribute()	if type == 4 then		attr.top = -newpos		owner:SetAdjust()	endendfunction OnPosChange(self)	local content = self:GetControlObject("content")	local left,top,right,bottom = content:GetObjPos()	local height = bottom - top	local attr = self:GetAttribute()	local cnt = content:GetChildCount()	if height >= cnt*70 then attr.top = 0 self:SetAdjust() end	self:UpdateScroll()endfunction OnScrollBarMouseWheel(self,func,x,y,distance)	self:GetOwnerControl():MouseWheel(distance)end